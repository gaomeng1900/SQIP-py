require(['centralperk'], function(PERK) {
  var afun, args;
  PERK.sign('task0', function(args, done) {
    console.log('0:::', args);
    args += 1;
    if (args < 20) {
      return done(args);
    } else {
      return console.log("stop here!!");
    }
  });
  PERK.sign('task1', function(args, done) {
    console.log('1:::', args);
    args += 1;
    return done(args);
  });
  PERK.sign('task2', function(args, done) {
    console.log('2:::', args);
    args += 1;
    return PERK.get({
      url: 'http://api.xunsheng90.com',
      load: function(args) {
        return console.log('AHAHAHA', args);
      }
    }, args, done);
  });
  PERK.sign('task3', function(args, done) {
    console.log('3:::', args);
    args += 1;
    return done(args);
  });
  PERK.sign('task4', function(args, done) {
    console.log('4:::', args);
    args['another'] = 'task4 been here';
    return done(args);
  });
  PERK.sign('task5', function(args, done) {
    console.log('5:::', args);
    args += 1;
    return done(args);
  });
  PERK.sign('task6', function(args, done) {
    console.log('6:::', args);
    return done();
  });
  afun = function(args, done) {
    console.log('afun:::', args);
    return done(args);
  };
  PERK.link('task0').to('task1', ['task6', 'task4']).to('task2').to('task4').to('task5');
  args = 0;
  return PERK.task('task0', args);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQUEsQ0FBUSxDQUFDLGFBQUQsQ0FBUixFQUF5QixTQUFDLElBQUQ7QUFFeEIsTUFBQTtFQUFBLElBQUksQ0FBQyxJQUFMLENBQVUsT0FBVixFQUFtQixTQUFDLElBQUQsRUFBTyxJQUFQO0lBQ2xCLE9BQU8sQ0FBQyxHQUFSLENBQVksTUFBWixFQUFvQixJQUFwQjtJQUVBLElBQUEsSUFBUTtJQUNSLElBQUcsSUFBQSxHQUFPLEVBQVY7YUFDQyxJQUFBLENBQUssSUFBTCxFQUREO0tBQUEsTUFBQTthQUdDLE9BQU8sQ0FBQyxHQUFSLENBQVksYUFBWixFQUhEOztFQUprQixDQUFuQjtFQVVBLElBQUksQ0FBQyxJQUFMLENBQVUsT0FBVixFQUFtQixTQUFDLElBQUQsRUFBTyxJQUFQO0lBQ2xCLE9BQU8sQ0FBQyxHQUFSLENBQVksTUFBWixFQUFvQixJQUFwQjtJQUVBLElBQUEsSUFBUTtXQUNSLElBQUEsQ0FBSyxJQUFMO0VBSmtCLENBQW5CO0VBT0EsSUFBSSxDQUFDLElBQUwsQ0FBVSxPQUFWLEVBQW1CLFNBQUMsSUFBRCxFQUFPLElBQVA7SUFDbEIsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFaLEVBQW9CLElBQXBCO0lBRUEsSUFBQSxJQUFRO1dBSVIsSUFBSSxDQUFDLEdBQUwsQ0FBUztNQUNSLEdBQUEsRUFBSSwyQkFESTtNQUVSLElBQUEsRUFBSyxTQUFDLElBQUQ7ZUFDSixPQUFPLENBQUMsR0FBUixDQUFZLFNBQVosRUFBdUIsSUFBdkI7TUFESSxDQUZHO0tBQVQsRUFJRyxJQUpILEVBSVMsSUFKVDtFQVBrQixDQUFuQjtFQWNBLElBQUksQ0FBQyxJQUFMLENBQVUsT0FBVixFQUFtQixTQUFDLElBQUQsRUFBTyxJQUFQO0lBQ2xCLE9BQU8sQ0FBQyxHQUFSLENBQVksTUFBWixFQUFvQixJQUFwQjtJQUVBLElBQUEsSUFBUTtXQUNSLElBQUEsQ0FBSyxJQUFMO0VBSmtCLENBQW5CO0VBT0EsSUFBSSxDQUFDLElBQUwsQ0FBVSxPQUFWLEVBQW1CLFNBQUMsSUFBRCxFQUFPLElBQVA7SUFDbEIsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFaLEVBQW9CLElBQXBCO0lBQ0EsSUFBSyxDQUFBLFNBQUEsQ0FBTCxHQUFrQjtXQUVsQixJQUFBLENBQUssSUFBTDtFQUprQixDQUFuQjtFQU9BLElBQUksQ0FBQyxJQUFMLENBQVUsT0FBVixFQUFtQixTQUFDLElBQUQsRUFBTyxJQUFQO0lBQ2xCLE9BQU8sQ0FBQyxHQUFSLENBQVksTUFBWixFQUFvQixJQUFwQjtJQUVBLElBQUEsSUFBUTtXQUNSLElBQUEsQ0FBSyxJQUFMO0VBSmtCLENBQW5CO0VBT0EsSUFBSSxDQUFDLElBQUwsQ0FBVSxPQUFWLEVBQW1CLFNBQUMsSUFBRCxFQUFPLElBQVA7SUFDbEIsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFaLEVBQW9CLElBQXBCO1dBQ0EsSUFBQSxDQUFBO0VBRmtCLENBQW5CO0VBS0EsSUFBQSxHQUFPLFNBQUMsSUFBRCxFQUFPLElBQVA7SUFDTixPQUFPLENBQUMsR0FBUixDQUFZLFNBQVosRUFBdUIsSUFBdkI7V0FDQSxJQUFBLENBQUssSUFBTDtFQUZNO0VBcUJQLElBQUksQ0FBQyxJQUFMLENBQVUsT0FBVixDQUNDLENBQUMsRUFERixDQUNLLE9BREwsRUFDYyxDQUFDLE9BQUQsRUFBVSxPQUFWLENBRGQsQ0FFQyxDQUFDLEVBRkYsQ0FFSyxPQUZMLENBR0MsQ0FBQyxFQUhGLENBR0ssT0FITCxDQUlDLENBQUMsRUFKRixDQUlLLE9BSkw7RUF5QkEsSUFBQSxHQUFPO1NBRVAsSUFBSSxDQUFDLElBQUwsQ0FBVSxPQUFWLEVBQW1CLElBQW5CO0FBM0d3QixDQUF6QiIsImZpbGUiOiJ0ZXN0LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiXG5yZXF1aXJlIFsnY2VudHJhbHBlcmsnXSwgKFBFUkspIC0+XG5cblx0UEVSSy5zaWduICd0YXNrMCcsIChhcmdzLCBkb25lKS0+XG5cdFx0Y29uc29sZS5sb2cgJzA6OjonLCBhcmdzXG5cdFx0IyBkb25lKHttc2c6XCJtc2cgZnJvbSAwIHRvIDFcIn0pXG5cdFx0YXJncyArPSAxXG5cdFx0aWYgYXJncyA8IDIwXG5cdFx0XHRkb25lKGFyZ3MpXG5cdFx0ZWxzZVxuXHRcdFx0Y29uc29sZS5sb2cgXCJzdG9wIGhlcmUhIVwiXG5cblxuXHRQRVJLLnNpZ24gJ3Rhc2sxJywgKGFyZ3MsIGRvbmUpLT5cblx0XHRjb25zb2xlLmxvZyAnMTo6OicsIGFyZ3Ncblx0XHQjIGRvbmUoKVxuXHRcdGFyZ3MgKz0gMVxuXHRcdGRvbmUoYXJncylcblxuXG5cdFBFUksuc2lnbiAndGFzazInLCAoYXJncywgZG9uZSktPlxuXHRcdGNvbnNvbGUubG9nICcyOjo6JywgYXJnc1xuXHRcdCMgZG9uZSh7bXNnOlwibXNnIGZyb20gMiB0byBub2JvZHlcIn0pXG5cdFx0YXJncyArPSAxXG5cdFx0IyBjb25zb2xlLmxvZyBhcmdzXG5cdFx0IyBkb25lKGFyZ3MpXG5cdFx0IyBhZnVuIGFyZ3MsIGRvbmVcblx0XHRQRVJLLmdldCB7XG5cdFx0XHR1cmw6J2h0dHA6Ly9hcGkueHVuc2hlbmc5MC5jb20nLCBcblx0XHRcdGxvYWQ6KGFyZ3MpLT5cblx0XHRcdFx0Y29uc29sZS5sb2cgJ0FIQUhBSEEnLCBhcmdzXG5cdFx0fSwgYXJncywgZG9uZVxuXG5cblx0UEVSSy5zaWduICd0YXNrMycsIChhcmdzLCBkb25lKS0+XG5cdFx0Y29uc29sZS5sb2cgJzM6OjonLCBhcmdzXG5cdFx0IyBkb25lKHttc2c6XCJtc2cgZnJvbSAyIHRvIG5vYm9keVwifSlcblx0XHRhcmdzICs9IDFcblx0XHRkb25lKGFyZ3MpXG5cblxuXHRQRVJLLnNpZ24gJ3Rhc2s0JywgKGFyZ3MsIGRvbmUpLT5cblx0XHRjb25zb2xlLmxvZyAnNDo6OicsIGFyZ3Ncblx0XHRhcmdzWydhbm90aGVyJ10gPSAndGFzazQgYmVlbiBoZXJlJ1xuXHRcdCMgZG9uZShhcmdzKVxuXHRcdGRvbmUoYXJncylcblxuXG5cdFBFUksuc2lnbiAndGFzazUnLCAoYXJncywgZG9uZSktPlxuXHRcdGNvbnNvbGUubG9nICc1Ojo6JywgYXJnc1xuXHRcdCMgZG9uZSgpXG5cdFx0YXJncyArPSAxXG5cdFx0ZG9uZShhcmdzKVxuXG5cblx0UEVSSy5zaWduICd0YXNrNicsIChhcmdzLCBkb25lKS0+XG5cdFx0Y29uc29sZS5sb2cgJzY6OjonLCBhcmdzXG5cdFx0ZG9uZSgpXG5cblxuXHRhZnVuID0gKGFyZ3MsIGRvbmUpLT5cblx0XHRjb25zb2xlLmxvZyAnYWZ1bjo6OicsIGFyZ3Ncblx0XHRkb25lKGFyZ3MpXG5cblxuXHQjIFBFUksuc3RyZWFtIHtcblx0IyBcdCd0YXNrMCc6XG5cdCMgXHRcdCd0YXNrNic6e31cblx0IyBcdFx0J3Rhc2sxJzpcblx0IyBcdFx0XHQndGFzazInOlxuXHQjIFx0XHRcdFx0J3Rhc2s0Jzpcblx0IyBcdFx0XHRcdFx0J3Rhc2s1Jzp7fVxuXHQjIFx0XHRcdCd0YXNrMyc6XG5cdCMgXHRcdFx0XHQndGFzazQnOlxuXHQjIFx0XHRcdFx0XHQndGFzazUnOnt9XG5cdCMgXHRcdFx0J3Rhc2s1Jzpcblx0IyBcdFx0XHRcdCd0YXNrNCc6e31cblx0IyB9XG5cblx0IyBvclxuXG5cdFBFUksubGluaygndGFzazAnKVxuXHRcdC50bygndGFzazEnLCBbJ3Rhc2s2JywgJ3Rhc2s0J10pXG5cdFx0LnRvKCd0YXNrMicpXG5cdFx0LnRvKCd0YXNrNCcpXG5cdFx0LnRvKCd0YXNrNScpXG5cblx0IyBvclxuXG5cblx0IyBQRVJLLnN0cmVhbSB7XG5cdCMgXHQndGFzazAnOlxuXHQjIFx0XHQndGFzazYnOnt9XG5cdCMgXHRcdCd0YXNrMSc6XG5cdCMgXHRcdFx0J3Rhc2syJzpcblx0IyBcdFx0XHRcdCd0YXNrNCc6XG5cdCMgXHRcdFx0XHRcdCd0YXNrNSc6e31cblx0IyB9XG5cblxuXG5cblxuXG5cblxuXHRhcmdzID0gMFxuXHQjIFBFUksudGFzaygndGFzazAnLCB7bXNnOlwibXNnIHRvIHQwXCJ9KVxuXHRQRVJLLnRhc2soJ3Rhc2swJywgYXJncylcblxuXHQjIHRyeVxuXHQjIFx0UEVSSy50YXNrKCd0YXNrMScsIHttc2c6XCJtc2cgdG8gdDFcIn0pXG5cdCMgY2F0Y2ggZVxuXHQjIFx0Y29uc29sZS5sb2cgZVxuXG5cblxuXHQjIFBFUksudGFzaygndGFzazQnLCB7bXNnOlwibXNnIHRvIHQ0XCJ9KSJdfQ==
